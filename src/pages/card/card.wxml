<view class="container">
    <view class="title-container">
        <text wx:if="{{cardDetail.title}}" class="card-title">{{cardDetail.title}}</text>
        <view class="user-container"
            data-user="{{cardDetail.user.id}}"
            bindtap="onUserTap">
            <image class="user-avatar" src="{{cardDetail.user.avatar}}" />
            <view class="user-time-container">
                <text class="user-nickname">{{cardDetail.user.nickname}}</text>
                <text class="card-date">{{cardDetail.timeString}}</text>
            </view>
        </view>
    </view>
    <view wx:if="{{cardDetail.picUrl}}" class="img-container">
        <image class="card-img" src="{{cardDetail.picUrl}}" mode="widthFix" />
    </view>
    <view class="content-container">
        <text class="card-content">
            {{cardDetail.content}}
        </text>
    </view>
    <view wx:if="{{cardDetail.book}}" class="book-container">
        <image class="book-pic" src="{{cardDetail.book.cover}}" mode="aspectFit" />
        <view class="book-detail-container">
            <text class="book-title-extra">相关图书</text>
            <text class="book-title">《{{cardDetail.book.title}}》</text>
            <text class="book-author">作者：{{cardDetail.book.author}}</text>
        </view>
    </view>
    <view class="card-bottom-space-holder" />
    <view wx:if="{{cardDetail && cardDetail.isMe && !fromList}}" class="bottom-bar-container">
        <view class="bottom-container" bindtap="onDelete">
            <image class="bottom-icon"
                src="../../resources/img/icon_card_delete.png" />
            <text class="bottom-text">删除</text>
        </view>
        <view class="bottom-container" bindtap="onModify">
            <image class="bottom-icon"
                src="../../resources/img/icon_edit.png" />
            <text class="bottom-text">修改</text>
        </view>
        <button class="bottom-btn"
            hover-class="bottom-btn-hover"
            open-type="share">
            <image class="bottom-icon"
                src="../../resources/img/icon_share.png" />
            <text class="bottom-text">分享</text>
        </button>
    </view>
    <view wx:elif="{{cardDetail}}" class="bottom-bar-container">
        <button class="bottom-btn"
            hover-class="bottom-btn-hover"
            open-type="share">
            <image class="bottom-icon"
                src="../../resources/img/icon_share.png" />
            <text class="bottom-text">分享</text>
        </button>
    </view>
</view>